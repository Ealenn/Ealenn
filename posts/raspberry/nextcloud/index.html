<!doctype html><html><head><title>Nextcloud: The Ultimate Solution to Replace Google Drive and Others</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=https://ealen.fr/css/bootstrap.min.css><link rel=stylesheet href=https://ealen.fr/css/layouts/main.css><link rel=stylesheet href=https://ealen.fr/css/style.css><link rel=stylesheet href=https://ealen.fr/css/navigators/navbar.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=https://ealen.fr/images/site/favicon_hucfb824843c4f4113270da96ead535ce1_5638_42x0_resize_box_3.png><link rel=stylesheet href=https://ealen.fr/css/style.css><meta name=description content="Many of us have turned to giants like Google, however, have you ever wondered if there's a better way to manage your personal data without compromising your privacy ?"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=https://ealen.fr/css/layouts/single.css><link rel=stylesheet href=https://ealen.fr/css/navigators/sidebar.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=https://ealen.fr/><img src=https://ealen.fr/images/site/main-logo_huea7ec95f2c2fe9a67b35c3c43b5d9933_30968_42x0_resize_box_3.png>Ealen's Blog</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=https://ealen.fr/images/site/main-logo_huea7ec95f2c2fe9a67b35c3c43b5d9933_30968_42x0_resize_box_3.png class=d-none id=main-logo>
<img src=https://ealen.fr/images/site/inverted-logo_hu561b1c2b7fb8ec8a12c51a48d696c5e6_18657_42x0_resize_box_3.png class=d-none id=inverted-logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><input type=text placeholder=Search data-search id=search-box><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=https://ealen.fr/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-minus-circle"></i><a class=active href=https://ealen.fr/posts/raspberry/>Raspberry</a><ul class=active><li><a href=https://ealen.fr/posts/raspberry/dns-sinkhole/>DNS Sinkhole</a></li><li><a class=active href=https://ealen.fr/posts/raspberry/nextcloud/>Private Cloud Drive</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://ealen.fr/posts/raspberry/nextcloud/hero.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=https://ealen.fr/images/author/rudy.jpg><h5 class=author-name>Rudy Marchandise</h5><p>September 30, 2023</p></div><div class=title><h1>Nextcloud: The Ultimate Solution to Replace Google Drive and Others</h1></div><div class=post-content id=post-content><p>In today&rsquo;s digital age, the need for secure storage solutions has never been greater.</p><p>Many of us have turned to giants like Google Drive or Microsoft OneDrive for their convenience and accessibility.
However, have you ever wondered if there&rsquo;s a better way to manage your personal data without compromising your privacy and flexibility?</p><p>In this article, we&rsquo;ll explore why Nextcloud stands as the ideal alternative to replace any drive provider.</p><h2 id=why-using-drive-solutions-like-google-drive-or-microsoft>Why Using Drive Solutions Like Google Drive or Microsoft?</h2><p>Services like Google Drive and Microsoft OneDrive offer unparalleled ease of use when it comes to synchronizing files across multiple devices. This feature ensures that your documents, photos, and other files are always up-to-date and accessible, which is especially valuable for users who need real-time access to their data.</p><p>But&mldr; Storing your data with big corporations means potentially compromising your privacy, as they may access and use your personal information. This issue has become increasingly significant, especially in the wake of privacy regulations like the General Data Protection Regulation (GDPR).</p><p>In recent years, Google has faced legal actions related to its data usage policies. For instance, France&rsquo;s data protection authority, CNIL, issued a significant fine against Google for breaching GDPR regulations, including inadequate information provided to users and lack of valid consent for personalized ads. This condemnation underscores the serious concerns about how Google handles user data.</p><p>Pros:</p><ul><li><strong>Convenience</strong>: Services like Google Drive and Microsoft OneDrive offer seamless synchronization across devices, making it easy to access your files from anywhere.</li><li><strong>Collaboration</strong>: They provide collaboration features, such as real-time document editing and sharing, which are essential for teamwork.</li><li><strong>Integration</strong>: Integration with other software and services, such as Google Workspace and Microsoft Office, can enhance productivity.</li></ul><p>Cons:</p><ul><li><strong>Privacy Concerns</strong>: Storing your data with big corporations means potentially compromising your privacy, as they may access and use your personal information.</li><li><strong>Limited Customization</strong>: These services often lack advanced customization options for users who want more control over their data.</li><li><strong>Dependency</strong>: Relying on a single provider makes you vulnerable to service outages and changes in terms of service or pricing.</li></ul><h2 id=using-your-own-drive>Using Your Own Drive</h2><p>Creating your own cloud storage solution may sound like a daunting task, but it&rsquo;s an incredibly exciting endeavor that offers a plethora of benefits.</p><p>First and foremost, it puts you in the driver&rsquo;s seat, giving you full control over your data and privacy. The excitement lies in the freedom to customize your cloud to fit your exact needs, whether it&rsquo;s expanding storage capacity, implementing advanced security measures, or integrating unique features. What makes this journey even more thrilling is the vibrant open-source community that surrounds self-hosted solutions like Nextcloud.</p><p>With a global network of enthusiasts developers, these communities are constantly pushing the boundaries of what&rsquo;s possible. They enhance and refine features, improve security, and offer invaluable support. So, if you&rsquo;re a web tinkerer or someone who enjoys the thrill of building and contributing, I invite you to dive into the world of self-hosted solutions and join these open-source projects. <strong>Regardless of your skill level, there&rsquo;s a place for everyone, and your participation can make a real difference in shaping the future of decentralized, secure, and customizable project.</strong></p><p>Advantages:</p><ul><li><strong>Privacy Control</strong>: Hosting your data on your own infrastructure ensures you have complete control over your data and who can access it.</li><li><strong>Cost Savings</strong>: Over time, hosting your own cloud storage solution can be cost-effective compared to subscription-based services.</li><li><strong>Customization</strong>: You can tailor your storage solution to meet your specific needs, including security measures and storage capacity.</li></ul><p>Drawbacks:</p><ul><li><strong>Technical Knowledge</strong>: Setting up and maintaining your own cloud storage solution can be daunting for those without technical expertise.</li><li><strong>Initial Investment</strong>: There may be an upfront cost for hardware and software, such as a Network Attached Storage (NAS) device and server hosting.</li><li><strong>Responsibility</strong>: You&rsquo;re responsible for data backups, security, and system updates, which can be time-consuming.</li></ul><h2 id=nextcloud>NextCloud</h2><img src=https://ealen.fr/posts/raspberry/nextcloud/nextcloud.png class=center><p><a href=https://nextcloud.com/>NextCloud</a> is a self-hosted, open-source cloud storage and collaboration platform that combines the best of both worlds.
It offers the convenience of cloud-based file synchronization and collaboration tools while allowing you to maintain control over your data.</p><p>Key Features of Nextcloud:</p><ul><li><strong>File Storage</strong>: Store, organize, and access your files from any device with ease.</li><li><strong>Collaboration</strong>: Share files, calendars, contacts, and even host video calls within your Nextcloud instance.</li><li><strong>Security</strong>: Nextcloud puts a strong emphasis on security, offering features like end-to-end encryption.</li><li><strong>Customization</strong>: You can extend Nextcloud&rsquo;s functionality through a vast selection of apps and plugins.</li><li><strong>Self-Hosted</strong>: You have complete ownership and control over your data, ensuring your privacy.</li></ul><h2 id=how-to-install-nextcloud-with-docker>How to Install Nextcloud with Docker</h2><p>Setting up Nextcloud with Docker offers a flexible and customizable solution.
Docker allows you to encapsulate Nextcloud and its dependencies into containers, making installation and management straightforward.</p><h3 id=prerequisites>Prerequisites</h3><p>Ensure you have a server or NAS device capable of running Docker.
Install Docker on your server or NAS. Follow the official Docker documentation for your platform.</p><h3 id=docker>Docker</h3><p>Utilizing <a href=https://www.linuxserver.io/>LinuxServer&rsquo;s</a> Docker image is a prudent choice when considering self-hosting solutions like Nextcloud, as it introduces crucial security features that bolster your data protection efforts. One such feature is the implementation of PUID (Process User ID) and PGID (Process Group ID), which allow you to precisely control who has read and write permissions on your system. This fine-grained control ensures that only authorized users or processes can access and modify specific files or directories, reducing the risk of unauthorized access or data breaches. Furthermore, creating a dedicated Linux group with minimal permissions further fortifies your system&rsquo;s security posture, limiting potential vulnerabilities.</p><p>Moreover, LinuxServer&rsquo;s Docker image goes the extra mile by providing MODS (Modular Object Detection System), an additional layer that equips your self-hosted environment with an array of tools and expanded capabilities. These tools can enhance your cloud storage solution&rsquo;s functionality, security, and monitoring capabilities.</p><p>The folder structure you&rsquo;ve outlined provides a clear and organized setup.</p><p>Inside the &ldquo;nextcloud&rdquo; directory, you&rsquo;ve segmented your components into distinct subdirectories, enhancing manageability.</p><ul><li>The &ldquo;maria_db&rdquo; directory houses the MariaDB database that Nextcloud relies on to store user data and configurations securely. Separating this component ensures data isolation and efficient database management.</li><li>The &ldquo;nextcloud_config&rdquo; directory is where you store your Nextcloud configuration files, making it easy to access and modify Nextcloud settings as needed.</li></ul><p>Altogether, this organized folder structure and setup demonstrate a thoughtful approach to creating and maintaining a robust and secure self-hosted Nextcloud instance on your NAS.</p><pre tabindex=0><code>nas/
├─ nextcloud/
│  ├─ maria_db/
│  ├─ nextcloud_config/
│  ├─ docker-compose.yml
│  ├─ .env
</code></pre><p>The &ldquo;<strong>docker-compose.yml</strong>&rdquo; file is a pivotal piece of the puzzle, as it orchestrates the entire Nextcloud environment using Docker containers. This file defines how your Nextcloud, MariaDB, and any other required services interact, simplifying deployment and maintenance.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3.8&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>nextcloud_db</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>lscr.io/linuxserver/mariadb:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>nextcloud_db</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./maria_db:/config</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>PUID=1000</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>PGID=100</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>TZ=Etc/UTC</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_ROOT_PASSWORD=$NEXTCLOUD_MYSQL_ROOT_PASSWORD</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_DATABASE=$NEXTCLOUD_MYSQL_DATABASE</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_USER=$NEXTCLOUD_MYSQL_USER</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_PASSWORD=$NEXTCLOUD_MYSQL_PASSWORD</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>nextcloud_app</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>lscr.io/linuxserver/nextcloud:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>8443</span>:<span style=color:#ae81ff>443</span> <span style=color:#75715e># Replace 8443 by your custom exposed port</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>depends_on</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>nextcloud_db</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>condition</span>: <span style=color:#ae81ff>service_started</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./nextcloud_config:/config</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/volume1/cloud:/data</span> <span style=color:#75715e># Replace /volume1/cloud to your local cloud path</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>PUID=1000</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>PGID=100</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>TZ=Etc/UTC</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>DOCKER_MODS=linuxserver/mods:nextcloud-memories|linuxserver/mods:nextcloud-mediadc</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_HOST=nextcloud_db</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_DATABASE=$NEXTCLOUD_MYSQL_DATABASE</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_USER=$NEXTCLOUD_MYSQL_USER</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>MYSQL_PASSWORD=$NEXTCLOUD_MYSQL_PASSWORD</span>
</span></span></code></pre></div><p>The &ldquo;<strong>.env</strong>&rdquo; file likely contains environment variables necessary for configuring your Nextcloud and MariaDB containers, streamlining the setup process.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>NEXTCLOUD_MYSQL_DATABASE</span><span style=color:#f92672>=</span><span style=color:#e6db74>nextcloud</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>NEXTCLOUD_MYSQL_USER</span><span style=color:#f92672>=</span><span style=color:#e6db74>nextcloud</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>NEXTCLOUD_MYSQL_ROOT_PASSWORD</span><span style=color:#f92672>=</span><span style=color:#e6db74>****************************</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>NEXTCLOUD_MYSQL_PASSWORD</span><span style=color:#f92672>=</span><span style=color:#e6db74>****************************</span>
</span></span></code></pre></div><h3 id=run>Run</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker-compose up -d
</span></span></code></pre></div><h3 id=secure-your-instance>Secure Your Instance</h3><p>By effectively using <code>chmod</code>, <code>chown</code>, and configuring <code>PUID</code> and <code>PGID</code> in your Docker Compose file, you can maintain a secure and customized environment for your self-hosted services while ensuring that permissions align with your system&rsquo;s requirements.</p><p>I recommend establishing a <code>docker</code> group on your server and assigning a unique user for each hosted application within this <code>docker</code> group. Employ the <code>chown</code> command recursively to grant permissions exclusively to each respective user. In the event of a security breach, this approach confines each application within its designated space, mitigating potential issues.</p><p>Additionally, you have the option to configure permissions in a more granular manner, such as providing full permissions to the user, read-only access to the group, and no access to others, thereby enhancing security measures.</p><p>Implement security best practices, such as enabling HTTPS with <a href=https://letsencrypt.org/fr/>Let&rsquo;s Encrypt</a> and configuring user permissions.</p><p>Most NAS solutions offer a valuable feature known as a reverse proxy with <a href=https://letsencrypt.org/fr/>Let&rsquo;s Encrypt</a> SSL/TLS certificates. This functionality is typically included within the NAS configuration portal, simplifying the process of securing web applications and services hosted on the NAS.</p><p>In case you haven&rsquo;t set up a reverse proxy on your server, another excellent option is to consider using <a href=https://github.com/NginxProxyManager/nginx-proxy-manager>Nginx Proxy Manager</a>, a notable open-source solution that offers an appealing alternative. This project is well-regarded for its user-friendly approach, providing straightforward and comprehensible documentation. Furthermore, Nginx Proxy Manager can be effortlessly installed using Docker, making it a convenient choice for those seeking a hassle-free way to implement a reverse proxy for their services.</p><h2 id=conclusion>Conclusion</h2><p>Nextcloud offers an excellent alternative to commercial cloud storage providers like Google Drive or Microsoft OneDrive.
By self-hosting NextCloud with Docker, you gain full control over your data&rsquo;s privacy and flexibility while enjoying the benefits of a modern cloud collaboration platform.
Take the leap into the world of Nextcloud, and you&rsquo;ll never look back at traditional cloud providers the same way again.</p></div><div class=btn-improve-page><a href=https://github.com/Ealenn/Ealenn/edit//content/posts/raspberry/nextcloud/index.md><i class="fas fa-code-branch"></i>
Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-12 next-article"><a href=https://ealen.fr/posts/raspberry/dns-sinkhole/ class="btn btn-outline-info"><span>Next <i class="fas fa-chevron-circle-right"></i></span><br><span>DNS sinkhole, between Privacy and AdBlocker, configuration and feedback</span></a></div></div><hr></div></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#why-using-drive-solutions-like-google-drive-or-microsoft>Why Using Drive Solutions Like Google Drive or Microsoft?</a></li><li><a href=#using-your-own-drive>Using Your Own Drive</a></li><li><a href=#nextcloud>NextCloud</a></li><li><a href=#how-to-install-nextcloud-with-docker>How to Install Nextcloud with Docker</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#docker>Docker</a></li><li><a href=#run>Run</a></li><li><a href=#secure-your-instance>Secure Your Instance</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>contact@ealen.fr</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=#><img src=https://ealen.fr/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png>
Toha</a></div><div class="col-md-4 text-center">© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=https://ealen.fr/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=https://ealen.fr/js/jquery-3.4.1.min.js></script>
<script src=https://ealen.fr/js/popper.min.js></script>
<script src=https://ealen.fr/js/bootstrap.min.js></script>
<script src=https://ealen.fr/js/navbar.js></script>
<script src=https://ealen.fr/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=https://ealen.fr/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>